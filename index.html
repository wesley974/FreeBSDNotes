<!DOCTYPE html>
<html lang="en">

<!--
  Authors (in order of appearance):
	Wesley Mouedine Assaby
	Oleg Ginzburg
	Egor Kuzmichev
-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreeBSD Jumpstart</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body class="slides reveal">

    <!-- General info -->

    <section id="logo">
        <img src="logo.png" alt="FreeBSD">
        <h1>13.0 <span>Updated</span>!</h1>
        <a href="https://www.convectix.com" target="_blank"><img src="convectix_logo.svg" alt="Convectix" class="publisher-logo"></a>
    </section>

    <section id="history">
        <h2>History</h2>
        <p>
            <a href="http://people.freebsd.org/~jkh/" target="_blank">Jordan K. Hubbard</a>, 
            <a href="https://www.linkedin.com/in/nate-williams-7492381">Nate Williams</a>
            and <a href="https://people.freebsd.org/~rgrimes/" target="_blank">Rodney Grimes</a>
            are the co-founder of the FreeBSD project.
        </p>
        <p>
            The first FreeBSD release <a href="https://cgit.freebsd.org/src/tag/?h=release/1.0.0_cvs" target="_blank">1.0</a> appear on November 1st, 1993.
        </p>
    </section>

    <section id="why-freebsd">
        <h2>Why use FreeBSD</h2>
        <ul>
            <li>UNIX-like</li>
            <li>Stable and fast general purpose operating system</li>
            <li>Reliable base system</li>
            <li><a href="https://openzfs.org/wiki/Distributions" target="_blank">OpenZFS</a></li>
            <li>Three <a href="https://docs.freebsd.org/en/books/handbook/firewalls" target="_blank">firewalls</a> in base, PF, IPFW and IPFilter</li>
        </ul>
    </section>
	<section id="why-freebsd-1">
            <h2>Why use FreeBSD (let's continue)</h2>
            <ul>
		<li>Get
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=bhyve" target="_blank">bhyve(8)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=carp" target="_blank">carp(4)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=dtrace" target="_blank">dtrace(1)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=hastd" target="_blank">hastd(8)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=jails" target="_blank">jail(8)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=ktls" target="_blank">ktls(9)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=linux" target="_blank">linux(4)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=netgraph" target="_blank">netgraph(3)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=netmap" target="_blank">netmap(4)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=rctl" target="_blank">rctl(8)</a>,
		    <a href="https://www.freebsd.org/cgi/man.cgi?query=vnet" target="_blank">vnet(9)</a>
		</li>
                <li>A large number of ported software that is <a href="https://repology.org/repository/freebsd" target="_blank">up to date</a></li>
                <li>Support for <a href="https://www.freebsd.org/platforms" target="_blank">multiple architectures</a></li>
                <li>Thorough
                    <a href="https://docs.freebsd.org/en/books/handbook" target="_blank">handbook</a>
                    and <a href="https://docs.freebsd.org/en/books/faq" target="_blank">FAQ</a>
                </li>
                <li>Advanced community</li>
            </ul>
    </section>	

    <section id="features">
        <h2>FreeBSD features</h2>
        <p>
            FreeBSD offers many unique features: <a target="_blank" href="https://www.freebsd.org/features">https://www.freebsd.org/features</a>
        </p>
    </section>

    <section id="versions">
        <h2>FreeBSD version numbers</h2>
        <ul>
            <li>Fixed/Semiannual release cycle</li>
            <li>Support for several major releases</li>
        </ul>
        <blockquote>
        	Read: <a target="_blank" href="https://www.freebsd.org/releases/">Release Information</a>
        </blockquote>
    </section>

    <section id="repo">
        <h2>Repositories</h2>
        <p>
            The official geographically distributed mirror for the general public is git.FreeBSD.org, The access URL is: <a href="https://cgit.freebsd.org/src" target="_blank">https://cgit.freebsd.org/src</a>
        </p>
        <p>
            There are several officially maintained
            <a href="https://docs.freebsd.org/en/books/handbook/mirrors/#external-mirrors" target="_blank">external mirrors</a>.
        </p>
    </section>

    <section id="git-branches">
        <h2>FreeBSD branches</h2>
        <ul>
            <li>-releng, release engineering based on stable</li>
            <li>-stable, every 2 to 3 years, a stable branch from the -current branch</li>
            <li>-main, development branch (head tagged)</li>
        </ul>
    </section>

    <section id="hardware">
        <h2>Supported hardware</h2>
        <p>&#128073 <a target="_blank" href="https://dmesgd.nycbug.org/index.cgi?do=index&amp;fts=FreeBSD">NYC*BUG dmesgd</a></p>
        <p>&#128073 <a target="_blank" href="https://bsd-hardware.info/?view=computers">Hardware for FreeBSD</a></p>
    </section>

    <!-- Base system -->

    <section id="installation">
        <h2>Installation</h2>
        <p>
            FreeBSD is installed from <a href="https://www.freebsd.org/where/#download-rel130" target="_blank">bootable media</a> with <a href="https://www.freebsd.org/cgi/man.cgi?bsdinstall(8)" target="_blank">bsdinstall(8)</a>.
            <br>
            Virtual Machine Images are also available.
        </p>
        <p>
            Really simple, ready in 5 minutes (<a target="_blank" href="https://en.wikipedia.org/wiki/KISS_principle">KISS</a>).
        </p>
        <blockquote>
            Get more information: <a target="_blank" href="https://docs.freebsd.org/en/books/handbook/bsdinstall/">https://docs.freebsd.org/en/books/handbook/bsdinstall/</a>
        </blockquote>
    </section>

    <section id="startup">
        <h2>Full FreeBSD Startup described!</h2>
        <p>See <a href="https://docs.freebsd.org/en/books/handbook/boot/" target="_blank">The FreeBSD Booting Process</a> chapter in handbook.</p>
    </section>

    <section id="hier">
        <h2>Directory structure</h2>
        <table>
            <colgroup span="2"></colgroup>
            <tbody>
                <tr>
                    <th colspan="2" scope="colgroup">The most important to know!</th>
                </tr>
                <tr>
                    <td>/</td>
                    <td>Root directory</td>
                </tr>
                <tr>
                    <td>/home&rarr;/usr/home</td>
                    <td>User home directories</td>
                </tr>
                <tr>
                    <td>/root</td>
                    <td>Default home directory for the superuser</td>
                </tr>
                <tr>
                    <td>/mnt</td>
                    <td>A temporary mount point</td>
                </tr>
            </tbody>
        </table>
        <blockquote>
            Read: <a target="_blank" href="https://man.freebsd.org/hier/7">hier(7)</a>
        </blockquote>
    </section>

    <section id="man">
        <h2>Manual pages</h2>
        <code>
            # How to read a man page, for example foo(5)?
            man 5 foo
        </code>
        <p>
            Or view it in your browser at: <a target="_blank" href="https://man.freebsd.org">https://man.freebsd.org</a>
        </p>
    </section>

    <section id="firmware">
        <h2>Non-free firmware packages</h2>
        <p>Some of the firmware files are distributed by ports collection.</p>
        <p>For graphics-related issues, please see: <a href="https://github.com/FreeBSDDesktop">FreeBSDDesktop</a> project</p>
    </section>

    <section id="filesystems">
        <h2>Filesystem</h2>
        <p>
            FreeBSD offers two filesystems out of the box: UFS & ZFS.
        </p>
    </section>

    <section id="zfs">
        <h2>ZFS history</h2>
        <p>- ZFS (<a href="https://illumos.org/books/zfs-admin/zfsover-1.html" target="_blank">Illumos</a>) is a powerful enterprise-ready open source file system, part of FreeBSD <a href="https://lists.freebsd.org/pipermail/freebsd-current/2007-April/070544.html">since 2007</a></p>
        <p>- Switch to <a href="https://github.com/openzfs/zfs" target="_blank">OpenZFS</a> in FreeBSD 13.0</a></p>
    </section>

    <section id="zfs-1">
        <h2>ZFS the basic</h2>
        <code>
            # create snapshot for home directory:
            zfs snapshot zroot/usr/home@snap1

            # rollback snapshot:
            zfs rollback zroot/usr/home@snap1
        </code>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/zfs/8">zfs(8)</a>,
            <a target="_blank" href="https://www.freshports.org/sysutils/beadm">beadm</a>
        </blockquote>
    </section>

    <section id="rc.conf">
        <h2>Configuring FreeBSD</h2>
        <p>
            /etc/rc.conf is key-value file, by which FreeBSD is generally configured. 
            You just need to use sysrc(8) or service(8) to change
            values in a safe and effective manner.
        </p>
        <p>A useful file read by /etc/rc during <a href="#startup">startup process</a>.</p>
	    <blockquote>
	        Read: <a target="_blank" href="https://man.freebsd.org/sysrc/8">sysrc(8)</a> <a target="_blank" href="https://man.freebsd.org/service/8">service(8)</a>
	    </blockquote>
    </section>

    <section id="rc.local">
        <h2>Run a script at startup</h2>
        <h3>File: /etc/rc.local</h3>
        <blockquote>
            Read: <a target="_blank" href="https://man.freebsd.org/rc/8">rc(8)</a>
        </blockquote>
    </section>

    <section id="services">
        <h2>Manage services</h2>
        <p>Files: /etc/rc.conf, /etc/rc.conf.d/*</p>
        <p>Service startup scripts are located in /etc/rc.d/* and /usr/local/etc/rc.d/*</p>
        <code>
            service [enable|disable|start|stop|reload|restart] foobar

            # For example, to start the sshd(8) daemon for OpenSSH SSH daemon, you might do
            service sshd enable
            service sshd start
        </code>
        <code>
            # print a dependency ordering of services
            rcorder /etc/rc.d/* /usr/local/etc/rc.d/*
        </code>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/service/8">service(8)</a>
            <a target="_blank" href="https://man.freebsd.org/sysrc/8">sysrc(8)</a>
            <a target="_blank" href="https://man.freebsd.org/rc.conf/5">rc.conf(5)</a>
            <a target="_blank" href="https://man.freebsd.org/rcorder/8">rcorder(8)</a>
        </blockquote>
    </section>

    <!-- Networking -->

    <section id="networking">
        <h2>Networking</h2>
        <code>
            # Display the current configuration of network interfaces
            ifconfig

            # Set DHCP for 'em0' interface, on the fly
            dhclient em0

            # Perform network (re)initialisation
            sh /etc/rc.d/netif restart
        </code>
    </section>

    <section id="networking-files">
        <h2>Networking files</h2>
        <table>
            <tbody>
                <tr>
                    <td>/etc/rc.conf</td>
                    <td>Default hostname, gateway, configuration for each network interface</td>
                </tr>
                <tr>
                    <td>/etc/hosts</td>
                    <td>Known hosts on the network</td>
                </tr>
                <tr>
                    <td>/etc/resolv.conf</td>
                    <td>Resolver (DNS)</td>
                </tr>
            </tbody>
        </table>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/rc.conf/5">rc.conf(5)</a>,
            <a target="_blank" href="https://man.freebsd.org/resolv.conf/5">resolv.conf(5)</a>,
            <a target="_blank" href="https://man.freebsd.org/hosts/5">hosts(5)</a>
        </blockquote>
    </section>

    <section id="networking-static-ip">
        <h2>Networking (set at startup)</h2>
        <h3>Example 1: configure static IP address for em0</h3>
        <code>
            sysrc ifconfig_em0="inet 192.168.0.58/24"
        </code>
        <blockquote>
            Don't forget to run <code>sh /etc/rc.d/netif restart</code> to apply changes to running system.
        </blockquote>
    </section>

    <section id="networking-dhcp">
        <h2>networking (set at startup)</h2>
        <h3>Example 2: configure DHCP for em0</h3>
        <code>
            sysrc ifconfig_em0="DHCP"
        </code>
        <blockquote>
            Don't forget to run <code>sh /etc/rc.d/netif restart</code> to apply changes to running system.
        </blockquote>
    </section>

    <section id="networking-wireless">
            <h2>networking (set at startup)</h2>
            <h3>Example 3: configure wireless</h3>
            <code>
                # First, see a list of available wireless networks:
                ifconfig wlan0 scan
            </code>
	</section>
	<section id="networking-wireless-1">
            <h3>Example 3: configure wireless (suite)</h3>
            <code>
                File: /etc/wpa_supplicant.conf
                eapol_version=2
                ap_scan=1
                fast_reauth=1

                network={
                    ssid="SSID"
                    scan_ssid=0
                    psk="KEY"
                    priority=5
                }
            </code>
	</section>
	<section id="networking-wireless-2">
        <h3>Example 3: configure wireless (suite)</h3>
        <code>
            File: /etc/wpa_supplicant.conf            
            network={
                priority=0
                key_mgmt=NONE
            }
      </code>
	</section>
	
	<section>
	    <h3>Example 3: configure wireless (suite)</h3>
        <code>
            # Configure wlan
            sysrc wlans_ath0="wlan0"
            sysrc ifconfig_wlan0="WPA DHCP"
        </code>
    	<blockquote>
    	   Don't forget to run <code>sh /etc/rc.d/netif restart</code> to apply changes to running system.
    	</blockquote>
    </section>

    <!-- Packages -->

    <section id="pkg">
        <h2>Install packages</h2>
        <code>
            # Official support for two branches: quarterly or rolling (latest).
            By default, the /etc/pkg/FreeBSD.conf file already contains an FreeBSD quarterly mirror server URL
            url: "pkg+http://pkg.FreeBSD.org/${ABI}/latest",

            You can switch it to the last one:
	    
               mkdir -p /usr/local/etc/pkg/repos
               cat &gt; /usr/local/etc/pkg/repos/FreeBSD.conf &lt;&lt;EOF
                 FreeBSD: { enabled: no }
                 FreeBSD-latest: {
                   url: "pkg+http://pkg.FreeBSD.org/${ABI}/latest",
                   mirror_type: "srv",
                   signature_type: "fingerprints",
                   fingerprints: "/usr/share/keys/pkg",
                   enabled: yes
                 }
               EOF

            # Search for packages
            pkg search foobar

            # For example, to install Squid
            pkg install squid

            # Update packages
            pkg upgrade
        </code>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/pkg.conf/5">pkg.conf(5)</a>,
            <a target="_blank" href="https://man.freebsd.org/pkg/8">pkg(8)</a>,
            <a target="_blank" href="https://man.freebsd.org.org/pkg-install/8">pkg-install(8)</a>,
            <a target="_blank" href="https://wiki.freebsd.org/PkgPrimer">PkgPrimer</a>
        </blockquote>
    </section>
    <section id="pkg-1">
        <h2>Packages</h2>
        <code>
            # List packages installed
            pkg info

            # List files installed by a package
            pkg info -l foobar

            # View install-message for a specific package
            pkg info -D foobar
        </code>
    </section>
    <section id="pkg-2">
        <h2>packages (continued)</h2>
        <code>
            # Delete a Package
            pkg delete foobar

            # Show unused dependencies
            pkg autoremove -n

            # Delete unused dependencies
            pkg autoremove

            # Delete all packages
            pkg delete -a
        </code>
        <blockquote>
            Read: <a target="_blank" href="https://man.freebsd.org/pkg-delete">pkg-delete(8)</a>
        </blockquote>
    </section>

    <section id="pkg-sudo-doas">
        <h2>sudo(1) or doas(1)</h2>
        <p>Neither sudo(1) nor doas(1) comes along base system. You are free to choose one from packages.</p>
        <code>
            # pkg install doas
        </code>
        <code>
            File: /etc/doas.conf
            # Permit the user 'marc' to reboot the box
            permit nopass marc as root cmd /sbin/reboot
        </code>
        <code>
            # Marc can now reboot the box
            $ doas reboot
        </code>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/doas">doas(1)</a>,
            <a target="_blank" href="https://man.freebsd.org/doas.conf">doas.conf(5)</a>
        </blockquote>
        <blockquote>
            Try <a target="_blank" href="http://www.tedunangst.com/flak/post/doas-mastery">doas mastery</a> (blog).
        </blockquote>
    </section>

    <section id="pkg-audit">
        <h2>See reports about vulnerable software packages</h2>
        <code>
            # Execute the following command:
            pkg audit -F

            # See a list of vulnerable packages, run:
            pkg audit
        </code>
    </section>

    <section id="pkg-update">
        <h2>Update all FreeBSD packages database</h2>
        <code>
            pkg update
        </code>
    </section>

    <section id="pkg-useful">
        <h2>some useful packages</h2>
        <table>
            <tbody>
                <tr>
                    <td>screenfetch</td>
                    <td>Display system information in the terminal</td>
                </tr>
                <tr>
                    <td>w3m</td>
                    <td>Text-based web browser</td>
                </tr>
                <tr>
                    <td>noice</td>
                    <td>
                        minimalistic file browser
                    </td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="pkg-useful-1">
        <h2>some useful packages (continued)</h2>
        <table>
            <tbody>
                <tr>
                    <td>pstree</td>
                    <td>List processes as a tree</td>
                </tr>
                <tr>
                    <td>tmate</td>
                    <td>Share your terminal on the web without open any ports</td>
                </tr>
                <tr>
                    <td>testdisk</td>
                    <td>Scan and repair disk partitions</td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- Routing -->

    <section id="routing">
        <h2>Routing</h2>
        <code>
            # Show the routing table (ipv4)
            netstat -rn4

            # Show the routing table (ipv6)
            netstat -rn6

            # Delete all gateway entries from the routing table
            route -n flush
        </code>
    </section>

    <section id="routing-pf">
        <h2>Enable PF</h2>
        <code>
            service pf enable
            sysrc pf_rules=/etc/pf.conf
            
            service pflog enable
            sysrc pflog_logfile=/var/log/pflog
            
            # create your /etc/pf.conf, then start pf
            service pf start
        </code>
    </section>

    <section id="routing-pf-ruleset">
        <h2>PF ruleset sample</h2>
        <code>
            File: /etc/pf.conf
            # Add your network card to egress group
            # ifconfig em0 group egress
            # or sysrc ifconfig_em0+="group egress"
        	#
            # Protect a laptop (allow only ping/ssh from anywhere)

            set skip on lo
            block log all
            pass in on egress inet proto icmp all icmp-type echoreq
            pass in on egress inet proto tcp from any to any port ssh
            pass out
        </code>
        <blockquote>
            Read: <a target="_blank" href="https://man.freebsd.org/pf.conf/5">pf.conf(5)</a>
        </blockquote>
    </section>

    <section id="routing-pf-commands">
        <h2>pf (packet filter)</h2>

        <h3>(Useful commands)</h3>

        <code>
            # Disable PF
            pfctl -d
            
            # Check your rules
            pfctl -nf /etc/pf.conf

            # Enable PF and load the rules
            pfctl -ef /etc/pf.conf

            # Just load the rules (apply changes)
            pfctl -f /etc/pf.conf

            # View the loaded rules
            pfctl -s rules
        </code>
        <blockquote>
            Read: <a target="_blank" href="https://man.freebsd.org/pfctl/8">pfctl(8)</a>
        </blockquote>
    </section>

    <section id="routing-pf-tcpdump">
        <h2>debug pf with tcpdump</h2>
        <code>
            tcpdump -nettti pflog0
        </code>
        <blockquote>
            Read: <a target="_blank" href="https://man.freebsd.org/tcpdump/1">tcpdump(8)</a>
        </blockquote>
    </section>

    <!-- Administration -->

    <section id="users">
        <h2>Manage users</h2>
        <code>
            # Manually
            pw user [add|del|mod|show|next]

            # Add users interactively
            adduser
        </code>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/pw/8">pw(8)</a>
            <a target="_blank" href="https://man.freebsd.org/adduser/8">adduser(8)</a>
        </blockquote>
    </section>

    <section id="groups">
        <h2>manage groups</h2>
        <h3>File: /etc/group</h3>
        <code>
            pw group [add|del|mod|show|next]
        </code>
        <blockquote>
            Members in wheel group can use <a target="_blank" href="https://man.freebsd.org/su/1">su(1)</a>
            to become root.
        </blockquote>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/group/5">group(5)</a>
        </blockquote>
    </section>

    <section id="updating">
        <h2>Updating FreeBSD (RELEASE)</h2>
        <p>Just use freebsd-update</p>
        <p>And <code class="inline">pkg upgrade</code> to update packages.</p>
    </section>

    <section id="freebsd-version">
        <h1>the FreeBSD version and patch level</h1>
        <code>
            freebsd-version
        </code>
    </section>

    <section id="security-updates">
        <h1>FreeBSD Applying Security Updates</h1>
        <p><a href="https://www.freebsd.org/releases/13.0R/errata" target="_blank">FreeBSD 13.0-RELEASE Errata</a></p>
       <code> 
            freebsd-update fetch install
        </code>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/freebsd-update/8">freebsd-update(8)</a>,
            <a target="_blank" href="https://man.freebsd.org/freebsd-update.conf/5">freebsd-update.conf(5)</a>,
        </blockquote>
    </section>

    <section id="freebsd-upgrade">
        <h2>Upgrade FreeBSD</h2>
        <p>
            To upgrade 12.2 to 13.0, use:
        </p>
        <code>
            freebsd-update -r 13.0-RELEASE upgrade
        </code>
        <blockquote>
            See: <a href="https://man.freebsd.org/freebsd-update" target="_blank">freebsd-update(8)</a>, <a href="https://docs.freebsd.org/en/books/handbook/cutting-edge/#freebsdupdate-upgrade" target="_blank">Performing upgrade</a> section in handbook.
        </blockquote>
    </section>

    <section id="maintenance">
        <h2>maintenance</h2>
        <table>
            <tbody>
                <tr>
                    <td><code class="inline">pkg check -Ba</code></td>
                    <td>Regenerate the library dependency metadata of all installed package</td>
                </tr>
                <tr>
                    <td><code class="inline">cat /var/run/dmesg.boot</code></td>
                    <td>Review system startup messages</td>
                </tr>
                <tr>
                    <td><code class="inline">ldd foobar</code></td>
                    <td>List dynamic object dependencies</td>
                </tr>
                <tr>
                    <td><code class="inline">df -h</code></td>
                    <td>See disk usage</td>
                </tr>
                <tr>
                    <td><code class="inline">top -waP -s .1</code></td>
                    <td>Check load (cpu/mem)</td>
                </tr>
            </tbody>
        </table>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.freebsd.org/pkg-check/8">pkg-check(8)</a>,
            <a target="_blank" href="https://man.freebsd.org/dmesg/8">dmesg(8)</a>,
            <a target="_blank" href="https://man.freebsd.org/ldd/1">ldd(1)</a>,
            <a target="_blank" href="https://man.freebsd.org/rtld/1">lrld(1)</a>,
            <a target="_blank" href="https://man.freebsd.org/df/1">df(1)</a>,
            <a target="_blank" href="https://man.freebsd.org/top/1">top(1)</a>,
            <a target="_blank" href="https://www.brendangregg.com/Perf/freebsd_observability_tools.png">FreeBSD observability tools</a>
        </blockquote>
    </section>

    <!-- Kernel -->

    <section id="kernel">
        <h2>FreeBSD kernels</h2>
        <p>Kernel and modules are located in /boot/kernel (the operating system loaded into memory at boot-time).</p>
    </section>

    <section id="kld">
        <h1>Kernel modules</h1>
        <code>
            # List kernel modules loaded
            kldstat

            # Load a kernel module
            kldload pf

            # Unload a kernel module
            kldunload pf
        </code>
    </section>

    <section id="tune">
        <h2>tune the system</h2>
        <p>
            <a target="_blank" href="https://man.freebsd.org/sysctl.conf/5">sysctl.conf(5)</a> sysctl variables to set at system startup<br>
            <a target="_blank" href="https://man.freebsd.org/tuning/7">tuning(7)</a> performance tuning under FreeBSD<br>
            &amp; <br>
            <a target="_blank" href="https://man.freebsd.org/config/8">config(8)</a> modify a kernel<br>
        </p>
    </section>

    <!-- Desktop -->

    <section id="laptop">
        <h2>setting laptop hibernation (sysctl)</h2>
        <table>
            <tbody>
                <tr>
                    <td>machdep.lidaction=0</td>
                    <td>do nothing</td>
                </tr>
                <tr>
                    <td>machdep.lidaction=1</td>
                    <td>suspend</td>
                </tr>
                <tr>
                    <td>machdep.lidaction=2</td>
                    <td>hibernate</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section id="de">
        <h2>Desktop environment</h2>
    </section>

    <!-- Embedded? -->

    <!-- Virtualization -->

    <section id="jails">
        <h2>Jails</h2>
		<p>Use bsdinstall(8) to make independent copy of FreeBSD directory tree:</p>
        <code>
            # bsdinstall jail /usr/jails/test-jail 
        </code>
        <p>Run command with jail(8):</p>
        <code>
            # jail /data/jail/test-jail testhostname 192.168.11.100 /bin/sh
        </code>
        <blockquote>
            See: <a href="https://man.freebsd.org/bsdinstall" target="_blank">bsdinstall(8)</a>, <a href="https://man.freebsd.org" target="_blank">jail(8)</a>, and the <a href="https://docs.freebsd.org/en/books/handbook/jails/">Jails</a> chapter from the FreeBSD handbook
        </blockquote>
    </section>

    <section id="bhyve">
        <h2>Bhyve</h2>
        <p>Bhyve - is a type-2 hypervisor</p>
        <code>
            # Load VMM kernel module:
            kldload vmm

            # Install bhyve UEFI firmware:
            pkg install -y bhyve-firmware

            # Fetch FreeBSD 13.0 amd64 ISO:
            fetch -o /tmp/Freebsd-13.0-amd64.iso https://download.freebsd.org/ftp/releases/amd64/amd64/ISO-IMAGES/13.0/FreeBSD-13.0-RELEASE-amd64-disc1.iso

            # Launch bhyve VM1:
            /usr/sbin/bhyve -c 2 -m 1G -H -A -s 0,hostbridge -s 1,ahci-cd,/tmp/Freebsd-13.0-amd64.iso,ro \
              -s 8,fbuf,tcp=0.0.0.0:5900,w=1024,h=768 -s 31,lpc -l com1,stdio -l bootrom,/usr/local/share/uefi-firmware/BHYVE_UEFI.fd vm1

            # Use any suitable VNC client to connect &lt;IP&gt;:5900
        </code>
        <code>
            # To destroy VM:
            bhyvectl --destroy --vm=vm1
        </code>
    </section>

    <section id="ktrace">
        <h2>ktrace/kdump sample usage</h2>
        <table>
            <tbody>
                <tr>
                    <td><code class="inline">ktrace -f ping.out \
                            ping openbsd.org</code></td>
                    <td>proceed process tracing</td>
                </tr>
                <tr>
                    <td><code class="inline">kdump -f ping.out</code></td>
                    <td>interprets the data from ktrace into a human readable format</td>
                </tr>
            </tbody>
        </table>
        <blockquote>
            Read:
            <a target="_blank" href="https://man.openbsd.org/OpenBSD-6.9/ktrace">ktrace(1)</a>,
            <a target="_blank" href="https://man.openbsd.org/OpenBSD-6.9/kdump">kdump(1)</a>
        </blockquote>
    </section>

    <!-- Extra -->

    <section id="bonus">
        <h2>Bonus</h2>
        <ul>
            <li><a href="https://www.bsdstore.ru/en/about.html" target="_blank">CBSD</a>, a management layer written for the FreeBSD jail(8) subsystem, bhyve and Xen</li>
            <li><a href="https://bhyve.npulse.net" target="_blank">BVCP</a>, a native webadmin / control panel for FreeBSD Bhyve.</li>
        </ul>
    </section>

    <section id="papers">
        <h2>presentations &amp; papers </h2>
        <ul>
            <li>
                <a target="_blank" href="https://papers.freebsd.org">https://papers.freebsd.org</a>
            </li>
            <li>
                <a href="https://freebsdfoundation.org/our-work/journal/">FreeBSD Journal</a>
            </li>
        </ul>
    </section>

    <section id="community-help">
        <h2>Community help</h2>
        <p>
            IRC Channel: <a target="_blank" href="ircs://irc.freenode.net:6697/freebsd">#freebsd</a><br>
            Mailing list: <a target="_blank" href="https://lists.freebsd.org/mailman/listinfo/freebsd-questions">freebsd-questions@</a><br>
            FreeBSD forums: <a target="_blank" href="https://forums.freebsd.org/">The FreeBSD forums</a><br>
            Discord: <a href="https://discord.com/invite/n2wshsy">FreeBSD Discord</a><br>
        </p>
    </section>

    <section id="freebsd-hosting">
        <h2>FreeBSD vps hosting</h2>
        <p>It's time to create your own FreeBSD VM !</p>
	<!--
        <p><a target="_blank" href="https://arpnetworks.com"><img src="images/arp.png" alt="ARP Networks logo"></a></p>
        <a target="_blank" href="https://openbsd.amsterdam"><img src="images/obsd-ams.png" alt="OpenBSD Amsterdam logo"></a>
	-->
    </section>
</body>

</html>
